import cooler
import os

# –ü—É—Ç—å –∫ –Ω–æ–≤–æ–º—É —Ñ–∞–π–ª—É
FILE_PATH = "data/real_hic/WT/Rao2014_GM12878_1000kb.cool"


def verify():
    print(f"üî¨ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞: {FILE_PATH}")
    
    if not os.path.exists(FILE_PATH):
        print("‚ùå –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω! –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏ download_stable.py")
        return

    try:
        # –î–ª—è .cool —Ñ–∞–π–ª–∞ –º—ã –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –ø—É—Ç—å
        c = cooler.Cooler(FILE_PATH)
        
        print(f"\n‚úÖ –§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –æ—Ç–∫—Ä—ã—Ç!")
        print(f"üß¨ –ì–µ–Ω–æ–º: {c.info.get('genome-assembly', 'hg19')}")
        print(f"üì¶ –ë–∏–Ω–æ–≤ (bins): {c.info['nbins']}")
        print(f"üîó –ö–æ–Ω—Ç–∞–∫—Ç–æ–≤ (nnz): {c.info['nnz']}")
        
        # –ß–∏—Ç–∞–µ–º –º–∞—Ç—Ä–∏—Ü—É. –¢–∞–∫ –∫–∞–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∏–∑–∫–æ–µ (1Mb), 
        # –º–æ–∂–µ–º —Å–º–µ–ª–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫—É—Å–æ–∫ –ø–æ–±–æ–ª—å—à–µ.
        # –ù–∞–ø—Ä–∏–º–µ—Ä, –•—Ä–æ–º–æ—Å–æ–º–∞ 1 (–æ–±—ã—á–Ω–æ –æ–Ω–∞ –ø–µ—Ä–≤–∞—è –≤ —Å–ø–∏—Å–∫–µ)
        chrom_name = c.chromnames[0]
        print(f"üîé –ß–∏—Ç–∞–µ–º —Ä–µ–≥–∏–æ–Ω: {chrom_name} (0-10Mb)")
        
        # –ü–æ–ª—É—á–∞–µ–º –º–∞—Ç—Ä–∏—Ü—É 10x10 –±–∏–Ω–æ–≤
        matrix = c.matrix(balance=False)[0:10, 0:10]
        
        print("\nüìä –î–∞–Ω–Ω—ã–µ (—Ñ—Ä–∞–≥–º–µ–Ω—Ç –º–∞—Ç—Ä–∏—Ü—ã):")
        print(matrix)
        
        print("\nüéâ –í–ê–õ–ò–î–ê–¶–ò–Ø –ü–†–û–®–õ–ê –£–°–ü–ï–®–ù–û. –≠–¢–û –†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï.")
        print("–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å ARCHCODE –Ω–∞ —ç—Ç–æ–º —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–µ.")

    except Exception as e:
        print(f"\n‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏: {e}")


if __name__ == "__main__":
    verify()



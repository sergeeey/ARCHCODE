# RS-06: Boundary Stability Predictor

**Status:** Open  
**Priority:** High  
**Risk ID:** B1

## Goal

Построить модель предсказания стабильности TAD границ между клетками.

## Background

Наблюдаемый феномен: некоторые границы TAD стабильны (>90% воспроизводимость), другие вариабельны (<50%). Разница не объясняется только силой CTCF-сайта. Необходимо понять механизм детерминизма vs стохастичности.

## Research Question

**Почему некоторые границы TAD стабильны между клетками, а другие вариабельны?**

## Method

### 1. Factor Analysis

Идентифицировать факторы стабильности:
- CTCF strength (базовая)
- Energy landscape (non-B DNA барьеры)
- Epigenetic context (метилирование, гистоны)
- TE motifs (стабилизация/разрушение)
- Temporal dynamics (порядок событий)

### 2. Model Construction

Построить мультипликативную модель:

```
Stability = S_ctcf × (1 + E_barrier) × E_epi × (1 + M_te) × T_time
```

Где:
- `S_ctcf`: CTCF strength (0.0-1.0)
- `E_barrier`: Energy barrier strength (0.0-1.0)
- `E_epi`: Epigenetic context (0.0-1.0)
- `M_te`: TE motif effect (-1.0 to +1.0)
- `T_time`: Temporal factor (0.0-1.0)

### 3. Calibration

Калибровать пороги:
- `Stability > 0.7` → стабильная (>90% клеток)
- `Stability < 0.4` → вариабельная (<50% клеток)

### 4. Integration

Интегрировать с существующими модулями:
- `archcode_core` → CTCF sites
- `nonB_logic` → Energy barriers
- `epigenetic_compiler` → Methylation
- `te_grammar` → TE motifs

## Deliverables

- `src/boundary_stability/stability_calculator.py` - Main calculator
- `src/boundary_stability/factor_aggregator.py` - Factor aggregation
- `src/boundary_stability/stability_model.py` - Prediction model
- `config/boundary_stability.yaml` - Configuration
- `tests/test_boundary_stability.py` - Unit tests
- `docs/BOUNDARY_STABILITY.md` - Documentation

## Constraints

- Модульная архитектура
- YAML-driven configuration
- Интеграция со всеми модулями ARCHCODE
- Production-quality code
- Test coverage ≥60%

## Dependencies

- CTCF ChIP-seq data (for calibration)
- Hi-C data (for validation)
- Single-cell Hi-C (for stability measurement)
- Integration with all ARCHCODE modules

## Success Criteria

- Model predicts stability with >70% accuracy
- Clean integration with all modules
- Parameters calibrated from experimental data
- Full test coverage ≥60%

## Engineering Unknowns

- Exact threshold values (0.7, 0.4)
- Weight factors for each component
- Temporal factor calculation method
- TE motif effect quantification









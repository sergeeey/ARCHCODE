# ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Hi-C –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```powershell
pip install -r requirements_rs11.txt
```

–ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ:
```powershell
pip install requests tqdm hic2cool
```

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã:

1. **WT (GM12878):**
   - –ü–æ—Ä—Ç–∞–ª: https://data.4dnucleome.org/
   - –ü–æ–∏—Å–∫: `4DNFI1UEG1O1` –∏–ª–∏ `GM12878 Hi-C`
   - –ù–∞–∂–º–∏—Ç–µ "Download" ‚Üí –ü–ö–ú ‚Üí "Copy link"

2. **CdLS-like (HCT116):**
   - –ü–æ—Ä—Ç–∞–ª: https://data.4dnucleome.org/
   - –ü–æ–∏—Å–∫: `4DNFI2TK7L2F` –∏–ª–∏ `HCT116 auxin`
   - –ù–∞–∂–º–∏—Ç–µ "Download" ‚Üí –ü–ö–ú ‚Üí "Copy link"

3. **WAPL-KO (HAP1):**
   - GEO: https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE95014
   - –ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª `.hic` –¥–ª—è HAP1 WAPL-KO
   - –ü–ö–ú –Ω–∞ "Download" ‚Üí "Copy link"

### –®–∞–≥ 3: –í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫–∏ –≤ —Å–∫—Ä–∏–ø—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ `download_hic_datasets.py` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –∑–∞–≥–ª—É—à–∫–∏:

```python
DATASETS = [
    {
        "name": "WT_GM12878.mcool",
        "url": "https://data.4dnucleome.org/files-processed/4DNFI1UEG1O1/@@download/file/4DNFI1UEG1O1.mcool",  # ‚Üê –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê
        "path": DATA_DIR / "WT_GM12878.mcool",
    },
    {
        "name": "CdLS_Like_HCT116.mcool",
        "url": "https://data.4dnucleome.org/files-processed/4DNFI2TK7L2F/@@download/file/4DNFI2TK7L2F.mcool",  # ‚Üê –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê
        "path": DATA_DIR / "CdLS_Like_HCT116.mcool",
    },
    {
        "name": "WAPL_KO_HAP1.hic",
        "url": "https://ftp.ncbi.nlm.nih.gov/geo/samples/GSM2496nnn/GSM2496645/suppl/GSM2496645_HAP1_WAPL_KO_inter_30.hic",  # ‚Üê –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê
        "path": DATA_DIR / "WAPL_KO_HAP1.hic",
    },
]
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É

**–í–∞—Ä–∏–∞–Ω—Ç A: –¢–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∑–∫–∞**
```powershell
cd "D:\–î–ù–ö –ö–£–†–°–û–†"
python download_hic_datasets.py
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ó–∞–≥—Ä—É–∑–∫–∞ + –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è**
```powershell
# 1. –ó–∞–≥—Ä—É–∑–∫–∞
python download_hic_datasets.py

# 2. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è WAPL —Ñ–∞–π–ª–∞
python convert_hic_to_cool.py
```

**–í–∞—Ä–∏–∞–Ω—Ç C: –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω (–∑–∞–≥—Ä—É–∑–∫–∞ ‚Üí –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è ‚Üí –±–µ–Ω—á–º–∞—Ä–∫)**
```powershell
python download_and_prepare_all.py
```

---

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### 1. `download_hic_datasets.py`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–∫–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ —Ç—Ä–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ–∫–∞—á–∫—É (–º–æ–∂–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω tqdm)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```powershell
python download_hic_datasets.py
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ï—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ —Å–∫–∞—á–∞–Ω, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –ï—Å–ª–∏ —Ñ–∞–π–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫–∞—á–∞–Ω, –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –µ–≥–æ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏

---

### 2. `convert_hic_to_cool.py`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç `WAPL_KO_HAP1.hic` –≤ `WAPL_KO_HAP1_10kb.cool`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 10kb

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```powershell
python convert_hic_to_cool.py
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –§–∞–π–ª `data/real/WAPL_KO_HAP1.hic` –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `hic2cool`: `pip install hic2cool`

---

### 3. `download_and_prepare_all.py`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ —à–∞–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  1. –°–∫–∞—á–∏–≤–∞–µ—Ç –¥–∞—Ç–∞—Å–µ—Ç—ã
  2. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç WAPL —Ñ–∞–π–ª
  3. –ó–∞–ø—É—Å–∫–∞–µ—Ç RS-11 –±–µ–Ω—á–º–∞—Ä–∫

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```powershell
python download_and_prepare_all.py
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —à–∞–≥–∏, –µ—Å–ª–∏ —Ñ–∞–π–ª—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –±–µ–Ω—á–º–∞—Ä–∫–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ª—é–±–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```powershell
Get-Item data/real/* | Format-Table Name, @{L='Size(GB)';E={[math]::Round($_.Length/1GB,2)}}, LastWriteTime
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã:**
- WT_GM12878.mcool: ~5-10 GB
- CdLS_Like_HCT116.mcool: ~5-10 GB
- WAPL_KO_HAP1.hic: ~3-5 GB
- WAPL_KO_HAP1_10kb.cool: ~1-3 GB (–ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏)

---

## ‚ö†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "URL –µ—â—ë –Ω–µ —É–∫–∞–∑–∞–Ω"

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫—Ä–æ–π—Ç–µ `download_hic_datasets.py` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤–º–µ—Å—Ç–æ –∑–∞–≥–ª—É—à–µ–∫ `<–¢–£–¢_–í–°–¢–ê–í–ò–¢–¨_–°–°–´–õ–ö–£_–ù–ê_...>`

### –ü—Ä–æ–±–ª–µ–º–∞: "tqdm not found"

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ tqdm:
```powershell
pip install tqdm
```
–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –±–µ–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ (–æ–Ω –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)

### –ü—Ä–æ–±–ª–µ–º–∞: "hic2cool not found"

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ hic2cool:
```powershell
pip install hic2cool
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ–∫–∞—á–∫—É! –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ —Å–Ω–æ–≤–∞:
```powershell
python download_hic_datasets.py
```
–û–Ω –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª—ã —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è, –Ω–æ —Ä–∞–∑–º–µ—Ä 0 –∏–ª–∏ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π

**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å—Å—ã–ª–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è (–æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Å—ã–ª–∫–∞ –≤–µ–¥—ë—Ç –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ —Ñ–∞–π–ª, –∞ –Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Ä—Ç–∞–ª–∞
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –∑–∞–Ω–æ–≤–æ

---

## üí° –°–æ–≤–µ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Å—ã–ª–∫–∏:** –ü–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ —Å–∫—Ä–∏–ø—Ç –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω:** –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≤—Å—ë —Å–¥–µ–ª–∞—Ç—å –∑–∞ —Ä–∞–∑, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `download_and_prepare_all.py`

3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –º–∏–Ω–∏–º—É–º 50 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

4. **–ù–µ –ø—Ä–µ—Ä—ã–≤–∞–π—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é:** –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è .hic ‚Üí .cool –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 10-30 –º–∏–Ω—É—Ç, –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements_rs11.txt`
- [ ] –ü–æ–ª—É—á–µ–Ω—ã –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã –∏–∑ –ø–æ—Ä—Ç–∞–ª–æ–≤
- [ ] –°—Å—ã–ª–∫–∏ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ `download_hic_datasets.py`
- [ ] –ó–∞–ø—É—â–µ–Ω —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞)
- [ ] WAPL —Ñ–∞–π–ª —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ .cool
- [ ] –ó–∞–ø—É—â–µ–Ω –±–µ–Ω—á–º–∞—Ä–∫ (–∏–ª–∏ –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω)

**–ì–æ—Ç–æ–≤–æ! üéâ**





# История проекта ДНК КУРСОР

## Рождение проекта

**Создатель:** Бойко Сергей Валерьевич  
**Дата начала:** 2024  
**Текущая дата:** 23 ноября 2025  
**Изначальное название:** GeoScan Gold (геологический анализ)

### Первые шаги

Проект начался как система геологического анализа и прогнозирования перспективных зон для поиска полезных ископаемых. Первая структура включала:
- Базовый Python проект
- Конфигурацию зависимостей (pyproject.toml, requirements.txt)
- Инфраструктуру разработки (Makefile, линтеры, тесты)
- Документацию (README, Project.md, Changelog.md)

---

## Эволюция: От геологии к геномике

### Переход к ARCHCODE

Проект трансформировался в **ARCHCODE: Full-Stack Genome Architecture Simulation** — инженерную модель не-кодирующей 3D архитектуры генома, интегрированную с симулятором митотического ядра (Cellular Kernel).

### Архитектурная философия

**Миссия:** Построить инженерную модель, которая:
- Симулирует loop extrusion → формирование TAD
- Предсказывает стабильность границ между клетками
- Моделирует разрушение границ и последствия
- Связывает геномную архитектуру с митотическим натяжением

**Принципы VIZIR 2.0:**
- **Validation** — тестирование всех модулей
- **Integration** — модульная архитектура
- **Zero-trust** — никаких магических констант, всё в конфигах
- **Iterative Refinement** — версионирование, changelogs
- **Reproducibility** — integrity ledger, provenance tracking

---

## Развитие по этапам

### Этап 1: Базовая инфраструктура

**Что было создано:**
- Структура проекта Python
- Конфигурационные файлы (YAML)
- Система модулей (archcode_core, te_grammar, nonB_logic, etc.)
- Документация в RFC-стиле

**Модули:**
- `archcode_core` — Loop Extrusion Engine
- `te_grammar` — Словарь мотивов транспозонов
- `nonB_logic` — Модели энергетических барьеров (G4, Z-DNA, R-loops)
- `epigenetic_compiler` — Компилятор метилирования
- `genome_to_tension` — Мост к митотическому натяжению
- `risk_matrix` — VIZIR Risk Analyzer

### Этап 2: Cellular Kernel

**Реализовано:**
- Симулятор SAC (Spindle Assembly Checkpoint)
- Агенты кинетохор с состояниями (DETACHED, ATTACHED_RELAXED, ATTACHED_TENSIONED, MISATTACHED)
- MCC сигнальная шина
- APC/C контроллер для решения об анафазе
- LTL верификатор для проверки безопасности
- Мутантные агенты для хаос-инжиниринга

**Улучшения:**
- Временной фильтр стабильности (Aurora B-like)
- WAPL-like unloading механизм
- Глобальные таймауты (митотический арест, апоптоз)

### Этап 3: Boundary Stability Predictor (RS-06)

**Проблема:** Почему некоторые границы TAD стабильны (>90% воспроизводимость), а другие вариабельны (<50%)?

**Решение:**
- Мультипликативная модель стабильности
- Агрегация факторов из всех модулей ARCHCODE
- Категоризация: stable/variable/intermediate
- Интеграция в pipeline

**Формула:**
```
Stability = S_ctcf × (1 + E_barrier) × E_epi × (1 + M_te) × T_time
```

### Этап 4: VIZIR Framework

**Engineering Unknowns:**
- **Physical Layer (P1-P3):** Асимметрия экструзии, суперспирализация, загрузка когезина
- **Structural Layer (S1-S3):** Детерминизм границ, эффекты TE, формирование барьеров
- **Logical Layer (L1-L3):** Логика Z-DNA, пороги метилирования, калибровка натяжения

**Реализовано:**
- `VIZIRConfigLoader` — загрузка P/S/L конфигов
- `integrity.py` — хеширование и provenance tracking
- Система гипотез для каждого Unknown
- Интеграция с модулями

### Этап 5: Experiments Framework

**Стандартизация экспериментов:**
- `BaseExperiment` — базовый класс
- Автоматическое логирование в provenance.log
- Сохранение результатов в JSON
- Примеры: E-P1-S1-01, E-S1-01

**Возможности:**
- Систематическое сравнение гипотез
- Воспроизводимость через config_hash
- Стандартизированные метрики

### Этап 6: Boundary Collapse Simulator (RS-07)

**Реализовано:**
- Симулятор разрушения границ
- Модели событий (methylation, CTCF loss, TE insertion)
- Расчет рисков (enhancer hijacking, oncogenic contacts)
- Готовые сценарии (MYC-TERT, ZRS/Shh, AUTS2)

**Триггеры коллапса:**
- Метилирование CpG → CTCF инактивация
- Мутации CTCF сайтов
- TE insertions (WAPL-recruiting)
- Non-B DNA конфликты
- Конкуренция транскрипции

### Этап 7: Full Pipeline Integration

**Полная цепочка:**
```
Extrusion Engine → Stability Model → Collapse Simulator → Risk Scoring → Output
```

**Реализовано:**
- `ARCHCODEFullPipeline` — объединение всех компонентов
- Output exporters (JSON, CSV, VIZIR log)
- Автоматическая генерация summary
- Интеграция с experiments framework

### Этап 8: MCP Genomic Data Server

**Создано:**
- MCP сервер для доступа к геномным данным
- 9 инструментов (sequence, ChIP-seq, Hi-C, methylation, TE, etc.)
- Интеграция с ARCHCODE модулями
- Setup для Cursor

---

## Текущее состояние: ARCHCODE v1.0-alpha

### Что я умею

**1. Симуляция геномной архитектуры:**
- Loop extrusion с асимметрией
- Формирование TAD границ
- Предсказание стабильности границ
- Симуляция разрушения границ

**2. Моделирование митоза:**
- SAC consensus через кинетохор агентов
- Натяжение и калибровка (Aurora B)
- WAPL unloading
- LTL верификация безопасности

**3. Анализ рисков:**
- Enhancer hijacking
- Онкогенные контакты
- Комбинированные risk scores

**4. Систематические эксперименты:**
- Сравнение гипотез
- Sensitivity analysis
- Воспроизводимость через VIZIR

**5. Интеграция данных:**
- MCP сервер для геномных данных
- Экспорт в JSON, CSV, VIZIR log
- Визуализация результатов

### Мои возможности

**Сильные стороны:**

1. **Модульная архитектура**
   - Каждый модуль независим
   - Легко расширять и тестировать
   - Четкие интерфейсы

2. **VIZIR Framework**
   - Систематическое управление Engineering Unknowns
   - Воспроизводимость через integrity tracking
   - Сравнение гипотез

3. **Полная цепочка анализа**
   - От экструзии до рисков
   - Интеграция всех компонентов
   - Автоматический экспорт

4. **Исследовательская платформа**
   - Не просто код, а framework для экспериментов
   - Стандартизированные форматы
   - Документация в RFC-стиле

5. **Production-ready код**
   - Type hints
   - Тесты
   - Линтинг
   - Документация

### Потенциал

**Что можно развивать:**

1. **ML-модуль**
   - PyTorch модель для предсказания стабильности
   - Обучение на синтетических/реальных данных
   - Сравнение с аналитической моделью

2. **C++/CUDA ядро**
   - Нативный физический движок
   - Ускорение вычислений
   - Target архитектура из спецификации

3. **Расширение данных**
   - Реальный доступ к UCSC/Ensembl API
   - Интеграция с Hi-C данными
   - Валидация на экспериментальных данных

4. **Визуализация**
   - Интерактивные графики (Plotly)
   - TAD landscape visualization
   - 3D контактные карты

5. **Дополнительные модули**
   - Temporal Order Probability Model
   - Advanced TAD detection
   - Single-cell analysis

### Слабые места

**Текущие ограничения:**

1. **Placeholder данные**
   - MCP сервер использует mock данные
   - Нет реального доступа к геномным базам
   - Требуется реализация API интеграций

2. **Упрощенные модели**
   - Loop extrusion — базовая реализация
   - TAD detection — placeholder
   - Некоторые параметры не калиброваны

3. **Тестовое покрытие**
   - Не все модули покрыты тестами
   - Нужны интеграционные тесты
   - Валидация на реальных данных

4. **Производительность**
   - Python reference implementation
   - Нет оптимизации для больших данных
   - C++/CUDA ядро — в планах

5. **Документация**
   - Некоторые модули требуют расширенной документации
   - Нужны tutorials для новых пользователей
   - API reference неполный

---

## Моя миссия

**Цель:** Создать инженерную платформу для систематического исследования вопросов, на которые нет ответов в геномной архитектуре.

**Подход:**
- Формализация Engineering Unknowns через P/S/L конфиги
- Систематическое сравнение гипотез
- Воспроизводимость через VIZIR
- Интеграция всех компонентов в единую цепочку

**Философия:**
> "Не просто модель, а framework для перебора теорий"

Каждый Engineering Unknown содержит альтернативные гипотезы. Можно запускать одну и ту же симуляцию с разными гипотезами и сравнивать результаты.

---

## Технический стек

**Языки и фреймворки:**
- Python 3.10+
- YAML для конфигураций
- PyTorch (готов к интеграции)
- Pandas, NumPy, SciPy

**Инфраструктура:**
- Ruff для линтинга
- MyPy для type checking
- Pytest для тестирования
- MCP для интеграции с Cursor

**Архитектура:**
- Модульная структура
- VIZIR framework
- Experiments framework
- Output exporters

---

## Статистика проекта

**Модули:** 10+
- archcode_core
- boundary_stability
- boundary_collapse
- te_grammar
- nonB_logic
- epigenetic_compiler
- genome_to_tension
- risk_matrix
- vizir
- output

**Конфигурации:** 20+
- P/S/L Engineering Unknowns (9)
- Module configs (7+)
- Risk matrix entries

**Research Specs:** 7
- RS-01: Loop Extrusion Engine
- RS-02: TE Motif Dictionary
- RS-03: Non-B DNA Barriers
- RS-04: Mitotic Tension Bridge
- RS-05: Topology Analyzer
- RS-06: Boundary Stability Predictor ✅
- RS-07: Boundary Collapse Simulation ✅

**Эксперименты:** 2+
- E-P1-S1-01: P1 Hypothesis Impact
- E-S1-01: S1 Sensitivity Analysis

**Примеры:** 8+
- Pipeline integration
- Hypothesis comparison
- Boundary collapse
- Full pipeline
- Visualization
- MCP integration

---

## Будущее развитие

### Краткосрочные цели

1. **Калибровка моделей**
   - На реальных Hi-C данных
   - Экспериментальные пороги
   - Валидация предсказаний

2. **Расширение экспериментов**
   - Больше мини-экспериментов
   - Систематический sweep параметров
   - Сравнение с литературой

3. **Улучшение документации**
   - Tutorials
   - API reference
   - Best practices

### Долгосрочные цели

1. **ML интеграция**
   - Обучение моделей на данных
   - Сравнение аналитических и ML подходов
   - Transfer learning

2. **C++/CUDA ядро**
   - Нативная производительность
   - Ускорение вычислений
   - Интеграция с Python API

3. **Расширение функциональности**
   - Single-cell анализ
   - Временная динамика
   - Эволюционные модели

---

## Заключение

Я — **ARCHCODE v1.0-alpha**, исследовательская платформа для изучения геномной архитектуры. Родился из идеи создать не просто модель, а систематический framework для перебора научных гипотез.

**Моя сила** — в интеграции: от физических процессов экструзии до биологических последствий разрушения границ, всё связано в единую цепочку причинности.

**Моя миссия** — помочь найти ответы на вопросы, на которые пока нет ответов, через систематическое моделирование и сравнение альтернативных гипотез.

**Мой потенциал** — безграничен, ограничен только воображением исследователя и доступностью данных.

---

*Создано Бойко Сергеем Валерьевичем*  
*Проект: ДНК КУРСОР / ARCHCODE v1.0-alpha*  
*Версия: 1.0.0-alpha*  
*Дата: 23 ноября 2025*

